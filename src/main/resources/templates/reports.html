<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports - Lobato App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .report-card {
            transition: transform 0.2s;
            border-left: 4px solid transparent;
        }
        .report-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .report-card.primary { border-left-color: #0d6efd; }
        .report-card.success { border-left-color: #198754; }
        .report-card.warning { border-left-color: #ffc107; }
        .report-card.info { border-left-color: #0dcaf0; }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/dashboard"><i class="bi bi-house-door"></i> Lobato App</a>
            <div class="navbar-nav me-auto">
                <a class="nav-link" href="/dashboard">Dashboard</a>
                <a class="nav-link" href="/profile">Profile</a>
                <a class="nav-link" href="/settings">Settings</a>
                <a class="nav-link active" href="/reports">Reports</a>
            </div>
            <div class="navbar-nav">
                <span class="navbar-text me-3">Welcome, <span th:text="${username}"></span>!</span>
                <form method="post" action="/logout" class="d-inline">
                    <button type="submit" class="btn btn-outline-light btn-sm">
                        <i class="bi bi-box-arrow-right"></i> Logout
                    </button>
                </form>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-12">
                <h2><i class="bi bi-graph-up"></i> Analytics & Reports</h2>
                <p class="text-muted">View your activity statistics and generate reports</p>
            </div>
        </div>

        <!-- Summary Cards -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card report-card primary">
                    <div class="card-body text-center">
                        <i class="bi bi-eye text-primary" style="font-size: 2.5rem;"></i>
                        <h3 class="mt-2">1,247</h3>
                        <p class="text-muted">Page Views</p>
                        <small class="text-success"><i class="bi bi-arrow-up"></i> +12% from last week</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card success">
                    <div class="card-body text-center">
                        <i class="bi bi-clock text-success" style="font-size: 2.5rem;"></i>
                        <h3 class="mt-2">47h</h3>
                        <p class="text-muted">Time Spent</p>
                        <small class="text-success"><i class="bi bi-arrow-up"></i> +8% from last week</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card warning">
                    <div class="card-body text-center">
                        <i class="bi bi-activity text-warning" style="font-size: 2.5rem;"></i>
                        <h3 class="mt-2">89</h3>
                        <p class="text-muted">Actions</p>
                        <small class="text-warning"><i class="bi bi-dash"></i> Same as last week</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card info">
                    <div class="card-body text-center">
                        <i class="bi bi-trophy text-info" style="font-size: 2.5rem;"></i>
                        <h3 class="mt-2">15</h3>
                        <p class="text-muted">Goals Achieved</p>
                        <small class="text-success"><i class="bi bi-arrow-up"></i> +25% from last week</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Chart Section -->
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5><i class="bi bi-bar-chart"></i> Activity Over Time</h5>
                        <div class="btn-group btn-group-sm" role="group">
                            <input type="radio" class="btn-check" name="timeRange" id="week" checked>
                            <label class="btn btn-outline-primary" for="week">Week</label>
                            <input type="radio" class="btn-check" name="timeRange" id="month">
                            <label class="btn btn-outline-primary" for="month">Month</label>
                            <input type="radio" class="btn-check" name="timeRange" id="year">
                            <label class="btn btn-outline-primary" for="year">Year</label>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="activityChart" height="300"></canvas>
                    </div>
                </div>

                <!-- Recent Activity Table -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h5><i class="bi bi-list-ul"></i> Recent Activity</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Time</th>
                                        <th>Activity</th>
                                        <th>Status</th>
                                        <th>Details</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>6:34 PM</td>
                                        <td><i class="bi bi-box-arrow-in-right text-success"></i> Login</td>
                                        <td><span class="badge bg-success">Success</span></td>
                                        <td>User logged in successfully</td>
                                    </tr>
                                    <tr>
                                        <td>6:32 PM</td>
                                        <td><i class="bi bi-person-plus text-primary"></i> Registration</td>
                                        <td><span class="badge bg-primary">Completed</span></td>
                                        <td>Account created</td>
                                    </tr>
                                    <tr>
                                        <td>6:30 PM</td>
                                        <td><i class="bi bi-eye text-info"></i> Page View</td>
                                        <td><span class="badge bg-info">Viewed</span></td>
                                        <td>Visited homepage</td>
                                    </tr>
                                    <tr>
                                        <td>6:28 PM</td>
                                        <td><i class="bi bi-gear text-warning"></i> Settings</td>
                                        <td><span class="badge bg-warning">Updated</span></td>
                                        <td>Profile preferences changed</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Side Panel -->
            <div class="col-md-4">
                <!-- Export Options -->
                <div class="card">
                    <div class="card-header">
                        <h5><i class="bi bi-download"></i> Export Data</h5>
                    </div>
                    <div class="card-body">
                        <p class="text-muted small">Download your activity data in various formats</p>
                        <div class="d-grid gap-2">
                            <button class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-file-earmark-pdf"></i> Export as PDF
                            </button>
                            <button class="btn btn-outline-success btn-sm">
                                <i class="bi bi-file-earmark-excel"></i> Export as Excel
                            </button>
                            <button class="btn btn-outline-info btn-sm">
                                <i class="bi bi-filetype-csv"></i> Export as CSV
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="card mt-3">
                    <div class="card-header">
                        <h5><i class="bi bi-speedometer"></i> Quick Stats</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Daily Goal</span>
                                <span>80%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-primary" style="width: 80%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Weekly Target</span>
                                <span>65%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-success" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Monthly Objective</span>
                                <span>45%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-warning" style="width: 45%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample chart data
        const ctx = document.getElementById('activityChart').getContext('2d');
        const activityChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Page Views',
                    data: [45, 59, 80, 81, 56, 55, 40],
                    borderColor: '#0d6efd',
                    backgroundColor: 'rgba(13, 110, 253, 0.1)',
                    tension: 0.4
                }, {
                    label: 'Actions',
                    data: [28, 48, 40, 19, 86, 27, 90],
                    borderColor: '#198754',
                    backgroundColor: 'rgba(25, 135, 84, 0.1)',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>